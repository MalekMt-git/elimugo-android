package org.monora.uprotocol.client.android.andserver.processor.generator;

import android.content.Context;
import com.yanzhenjie.andserver.framework.config.Delegate;
import com.yanzhenjie.andserver.framework.config.Multipart;
import com.yanzhenjie.andserver.framework.config.WebConfig;
import com.yanzhenjie.andserver.framework.website.Website;
import com.yanzhenjie.andserver.register.OnRegister;
import com.yanzhenjie.andserver.register.Register;
import java.lang.Override;
import java.lang.String;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import org.monora.uprotocol.client.android.service.web.WebShareConfig;

/**
 * This file was generated by AndServer automatically and you should NOT edit it.
 */
public final class ConfigRegister implements OnRegister {
  private Map<String, WebConfig> mMap;

  public ConfigRegister() {
    this.mMap = new HashMap<>();
    this.mMap.put("default", new WebShareConfig());
  }

  @Override
  public void onRegister(Context context, String group, Register register) {
    WebConfig config = mMap.get(group);
    if(config == null) {
      config = mMap.get("default");
    }
    if(config != null) {
      Delegate delegate = Delegate.newInstance();
      config.onConfig(context, delegate);
      List<Website> list = delegate.getWebsites();
      if(list != null && !list.isEmpty()) {
        for (Website website : list) {
          register.addAdapter(website);
        }
      }
      Multipart multipart = delegate.getMultipart();
      register.setMultipart(multipart);
    }
  }
}
